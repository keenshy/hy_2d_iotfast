# 2024-08-09 V1.0.34

本次升级内容如下：

### 新增
1. 场景画布背景功能优化

背景支持颜色和图片选择

![1723187074639-c103ae23-f865-4a4b-a657-51bece561758.png](./img/e4tamZybfPT_BMTR/1723187074639-c103ae23-f865-4a4b-a657-51bece561758-613799.png)

![1723188534792-f015149c-d530-49d2-9d8a-721ee5728437.gif](./img/e4tamZybfPT_BMTR/1723188534792-f015149c-d530-49d2-9d8a-721ee5728437-490608.gif)

<font style="color:rgb(36, 41, 47);">支持一键删除背景颜色和背景图片，也可以根据需要分别删除背景色或背景图片。</font>

![1723188548890-8c971d68-788c-49f0-ba47-0195a278b295.png](./img/e4tamZybfPT_BMTR/1723188548890-8c971d68-788c-49f0-ba47-0195a278b295-690031.png)

**备注：**

<font style="color:rgb(36, 41, 47);">目前，背景图片仅支持最大8MB的文件大小。</font>

<font style="color:rgb(36, 41, 47);"></font>

2. 控件图片支持选择本地和线上资源

![1723190622973-d077b1d0-6c2f-464c-8dc1-409e0ed472ce.png](./img/e4tamZybfPT_BMTR/1723190622973-d077b1d0-6c2f-464c-8dc1-409e0ed472ce-407368.png)



3. 实时曲线图、实时柱状图和历史报表支持跨设备选择数据

以历史报表为例：

![1723192191081-36329f1b-6733-49e7-a9c9-71f28c803db7.gif](./img/e4tamZybfPT_BMTR/1723192191081-36329f1b-6733-49e7-a9c9-71f28c803db7-264223.gif)

<font style="color:rgb(36, 41, 47);"></font>

4. 控件文本、数显框、按钮添加颜色填充动画

![1723192474693-58c4af8e-b815-45ba-a58f-4fea9273e941.png](./img/e4tamZybfPT_BMTR/1723192474693-58c4af8e-b815-45ba-a58f-4fea9273e941-025435.png)

<font style="color:rgb(36, 41, 47);">用户可以快速绑定变量并设置对应动画，例如，数显框绑定变量后，背景色对应发生变化：</font>

![1723192759407-e5458a4f-6c42-4322-ab47-e726d27fd67b.gif](./img/e4tamZybfPT_BMTR/1723192759407-e5458a4f-6c42-4322-ab47-e726d27fd67b-683672.gif)



5. 数据绑定添加值映射关系

<font style="color:rgb(36, 41, 47);">如果绑定的值不是预期结果，用户可以通过值映射进行处理。例如，对于布尔类型的绑定，可以将其转换为所需的结果：</font>

**<font style="color:rgb(36, 41, 47);">绑定</font>**

![1723193103194-2416c3d8-2139-4dbf-ae04-af0a900df642.png](./img/e4tamZybfPT_BMTR/1723193103194-2416c3d8-2139-4dbf-ae04-af0a900df642-284159.png)

**处理**

![1723193159592-30fe16ba-a761-477e-aa59-854c7c10ccfd.png](./img/e4tamZybfPT_BMTR/1723193159592-30fe16ba-a761-477e-aa59-854c7c10ccfd-484010.png)

**预览效果**

![1723193190009-ffc4aa69-2e8c-42d8-b580-b51f94dc7d87.png](./img/e4tamZybfPT_BMTR/1723193190009-ffc4aa69-2e8c-42d8-b580-b51f94dc7d87-051011.png)



6. 蓝图和脚本新增启用和禁用选项

<font style="color:rgb(36, 41, 47);">目前，添加多个蓝图或脚本时，很难展示每个蓝图或脚本的具体运行效果。因此，我们增加了启用和禁用功能，以便用户可以方便地测试单个蓝图或脚本的效果。</font>

![1723193889340-09512674-0875-4a8b-b379-9c99c7559a62.png](./img/e4tamZybfPT_BMTR/1723193889340-09512674-0875-4a8b-b379-9c99c7559a62-535818.png)

![1723193935928-6c436eff-692f-4d6b-ad4c-b9d63a182ecf.png](./img/e4tamZybfPT_BMTR/1723193935928-6c436eff-692f-4d6b-ad4c-b9d63a182ecf-653787.png)

**备注：**

蓝图或者脚本默认都是启用状态。



7. 蓝图添加数据脚本功能

<font style="color:rgb(36, 41, 47);">用户可以在数据脚本中处理数据逻辑判断，以用于赋值或返回值等操作。</font>

![1723194174185-a29e3839-37f5-4ee4-a077-fbac12f916cb.png](./img/e4tamZybfPT_BMTR/1723194174185-a29e3839-37f5-4ee4-a077-fbac12f916cb-335317.png)

![1723194269541-88d5f377-bdd5-4e6d-b6d9-27d8cd0335ec.png](./img/e4tamZybfPT_BMTR/1723194269541-88d5f377-bdd5-4e6d-b6d9-27d8cd0335ec-655186.png)



8. 发送数据目标为设备时，增加"功能"选项

![1723194779220-314b4c28-1950-437b-8c2a-c75cfbe2eb1f.png](./img/e4tamZybfPT_BMTR/1723194779220-314b4c28-1950-437b-8c2a-c75cfbe2eb1f-747488.png)

该功能用于解决用户需要批量发送数据的情况，以下举例说明：

+ 在物联网创建产品的功能，并添加对应功能的属性

![1723195034232-3f2d8e36-fc1b-44c0-8a7f-92889083d14b.png](./img/e4tamZybfPT_BMTR/1723195034232-3f2d8e36-fc1b-44c0-8a7f-92889083d14b-042118.png)

+ 添加设备，查看功能并复制对应的功能数据对象

![1723195116892-f9a9e144-7a0a-4ba4-b14f-0c19e28bbf31.png](./img/e4tamZybfPT_BMTR/1723195116892-f9a9e144-7a0a-4ba4-b14f-0c19e28bbf31-226033.png)

![1723195174242-54b071ad-403d-47d7-84be-49b641a7b831.png](./img/e4tamZybfPT_BMTR/1723195174242-54b071ad-403d-47d7-84be-49b641a7b831-868420.png)

+ 将复制的数据对象填入数据脚本中，通过一系列处理后返回：

![1723195564767-e476f4e5-5c7d-42a3-a718-f76050077853.png](./img/e4tamZybfPT_BMTR/1723195564767-e476f4e5-5c7d-42a3-a718-f76050077853-477672.png)

### 优化
1. 告警弹窗样式优化

![1723195644992-ce1084ee-3361-45aa-b1f7-4d0acf5f0be8.png](./img/e4tamZybfPT_BMTR/1723195644992-ce1084ee-3361-45aa-b1f7-4d0acf5f0be8-742503.png)





> 更新: 2024-08-09 17:38:00  
> 原文: <https://www.yuque.com/iot-fast/ksh/xkqcznx75ktonlqz>