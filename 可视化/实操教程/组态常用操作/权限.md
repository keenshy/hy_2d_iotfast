# 权限

## <font style="color:rgb(51, 51, 51);">1. 权限功能说明：</font>
<font style="color:rgb(51, 51, 51);">【权限功能】功能用户可以对组态页面中的任何一个控件设置权限，通过权限能够于实现对组态页面中重要控件显示或隐藏的管控，在</font>**<font style="color:#DF2A3F;">分享页面</font>**<font style="color:rgb(51, 51, 51);">时，确保只有授权的用户或团队能够访问和操作特定的组态功能。</font>

## <font style="color:rgb(51, 51, 51);">2. 权限功能优势：</font>
<font style="color:rgb(51, 51, 51);">1）当前权限功能，一个控件最多可设置权限个数不限，意味着可管控数量不受限制，完全能够满足企业运营管理过程中对多人员的使用需求</font>

<font style="color:rgb(51, 51, 51);">2）权限管理用户可自行定义权限名称，比如，可设置为“管理员”，“操作工”等权限名称，直观了然，使用和理解难度大幅降低</font>

<font style="color:rgb(51, 51, 51);">3）细化权限管控颗粒度，每个设备，可设置不同的权限，举例，设备1，可设置三个权限，设备2由于管理程度比较高，则可设置4个权限，满足更高层级人员使用需求，同时，设备在授权过程中，也可根据不同的人员，授予不同的权限，方便进行交叉管理</font>

## <font style="color:rgb(51, 51, 51);">3. 权限功能应用场景举例：</font>
<font style="color:rgb(51, 51, 51);">应用场景1：</font>

<font style="color:rgb(51, 51, 51);">某泵站水泵设备A需要有三个角色共同操作组态画面：</font>

<font style="color:rgb(51, 51, 51);">角色1：设备管理员，需要对设备有全面的管理操作，包括查看核心设备运转数据，开启关闭重要开关按钮</font>

<font style="color:rgb(51, 51, 51);">角色2：设备操作员，仅支持对设备一些常规开关操作，无法查看重要数据</font>

<font style="color:rgb(51, 51, 51);">角色3：普通用户，仅可查看设备运行情况，没有其他权限</font>

<font style="color:rgb(51, 51, 51);">解决方案：</font>

<font style="color:rgb(51, 51, 51);">使用新版的组态权限功能，可对于组态控件进行权限划分，举例：</font>

<font style="color:rgb(51, 51, 51);">1. 核心数据图表控件，组态权限中，可勾选设备管理员角色，</font>

<font style="color:rgb(51, 51, 51);">2. 核心开关控件，组态权限中，可勾选设备管理员和设备操作员角色；在设备授权中，将对应用户授权给设备管理员角色设备操作员角色</font>

<font style="color:rgb(51, 51, 51);">3. 常规的水泵运转状态控件，组态权限中可勾选设备管理员，设备操作员和普通用户，在设备授权中，将对应用户授权给设备操作员角色</font>

<font style="color:rgb(51, 51, 51);">组态设置好权限后，可在iotfast平台>>用户中心中，给对应的用户授权</font>

<font style="color:rgb(51, 51, 51);">1）比如企业负责人，可在权限中选择：设备管理员角色</font>

<font style="color:rgb(51, 51, 51);">2）车间负责人，可在权限中选择：设备操作员</font>

<font style="color:rgb(51, 51, 51);">3）车间工人，可在权限中选择：普通用户</font>

<font style="color:rgb(51, 51, 51);">通过上述组态权限+授权管理功能，则可实现企业负责人可查看重要图标，控制核心开关等操作，车间负责人仅支持设置常规开关操作，车间工人，仅可查看设备运行情况的场景</font>

## <font style="color:rgb(51, 51, 51);">4. 实际操作说明：</font>
### <font style="color:rgb(51, 51, 51);">4.1 控件选择权限</font>
<font style="color:rgb(51, 51, 51);">点击某一个控件后，在右侧的属性栏目中，可设置该控件对应的权限，比如可选择设备操作员和设备管理员</font>

![1721359976080-d7d3ea67-f611-48a5-9ea1-7e81e49b300e.png](./img/HHikfGEw5K3OiCn_/1721359976080-d7d3ea67-f611-48a5-9ea1-7e81e49b300e-403714.png)

### <font style="color:rgb(51, 51, 51);">4.2 权限管理</font>
<font style="color:rgb(51, 51, 51);">用户可自行定义权限， 举例：比如现在有3个权限，分别为：普通用户，设备管理员，设备操作员，如果希望增加一个新的权限，则可以到用户中心，增加新的角色权限，比如可增加为“企业管理员”</font>

![1721360106939-be67e602-327c-4d47-8105-9c7ff197e0ae.png](./img/HHikfGEw5K3OiCn_/1721360106939-be67e602-327c-4d47-8105-9c7ff197e0ae-036120.png)

### <font style="color:rgb(51, 51, 51);">4.3  用户权限授权</font>
<font style="color:rgb(51, 51, 51);">组态控件的权限设置好后，可针对于不同的用户进行授权操作，在授权过程中，设置用户的组态“权限”，对不同用户设置不同的权限，保证授权的用户的可见性。</font>

**<font style="color:rgb(51, 51, 51);">下面以一个例子来演示具体的使用方法：</font>**

<font style="color:rgb(51, 51, 51);">某泵站水泵设备A需要有三个角色共同操作组态画面：</font>

<font style="color:rgb(51, 51, 51);">用户1：设备管理员，需要对设备有全面的管理操作，包括查看核心设备运转数据，开启关闭重要开关按钮</font>

<font style="color:rgb(51, 51, 51);">用户2：设备操作员，仅支持对设备一些常规开关操作，不支持查看报警记录</font>

**<font style="color:rgb(51, 51, 51);">操作过程</font>**

<font style="color:rgb(51, 51, 51);">1）选择控件，点击数据栏中权限范围设置，操作，设置设备管理员，设备操作员两个权限</font>

![1721369083164-4cd0fa87-8644-403e-84d8-8f0faed63413.png](./img/HHikfGEw5K3OiCn_/1721369083164-4cd0fa87-8644-403e-84d8-8f0faed63413-902039.png)

<font style="color:rgb(51, 51, 51);">2)针对于控件，权限管理人员中，仅勾选设备管理员,代表设备管理员可以查看该控件，设备操作员，无法查看该控件</font>

![1721373207341-c73a6f76-8731-4113-a6f3-12851f6792c5.png](./img/HHikfGEw5K3OiCn_/1721373207341-c73a6f76-8731-4113-a6f3-12851f6792c5-419038.png)

<font style="color:rgb(51, 51, 51);">3）设置授权， 从iotfast平台>>用户中心>> 后台用户功能中，选择用户，点击【编辑】菜单按钮，进行角色绑定操作</font>

![1721373437965-3c8c2ac3-e7c3-4c97-90f1-8adc5e29c971.png](./img/HHikfGEw5K3OiCn_/1721373437965-3c8c2ac3-e7c3-4c97-90f1-8adc5e29c971-603050.png)

<font style="color:rgb(51, 51, 51);">4）权限设置完毕后，分别登录两个账号，可以看到，由于两个账号不同的权限，每个人只能看到自己有权限的控件</font>

<font style="color:rgb(51, 51, 51);">A 用户为 设备管理员，分享页面可以看到控件</font>

![1722407427365-03fe7441-2635-4965-92fe-c193c408472f.png](./img/HHikfGEw5K3OiCn_/1722407427365-03fe7441-2635-4965-92fe-c193c408472f-749713.png)

<font style="color:rgb(51, 51, 51);">B用户为设备操作员，分享页面无法查看控件</font>

![1722407454366-a5deff63-3ba5-4673-b629-3481d16c248d.png](./img/HHikfGEw5K3OiCn_/1722407454366-a5deff63-3ba5-4673-b629-3481d16c248d-476023.png)

### 4.4用户访问组态分享页面
1）未登录： 直接访问分享页面，只能查看设置“所有人”权限的节点；

2）登录后访问：先登录系统后，再访问组态分享页面，即可访问有权限的节点；





> 更新: 2024-07-31 14:31:04  
> 原文: <https://www.yuque.com/iot-fast/ksh/lw25ah5ogaozb0y2>